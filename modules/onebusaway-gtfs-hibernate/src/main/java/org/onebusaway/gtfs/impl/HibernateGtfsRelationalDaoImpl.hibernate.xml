<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <query name="arrivalTimeIntervalForServiceId" read-only="true">
        SELECT min(st.arrivalTime), max(st.arrivalTime)
        FROM Trip trip, StopTime st
        WHERE trip.serviceId = :serviceId
        AND trip = st.trip
        AND st.arrivalTime >= 0
    </query>
    <query name="departureTimeIntervalForServiceId" read-only="true">
        SELECT min(st.departureTime), max(st.departureTime)
        FROM Trip trip, StopTime st
        WHERE trip.serviceId = :serviceId
        AND trip = st.trip
        AND st.departureTime >= 0
    </query>
    <query name="routesForAgency" read-only="true">
        FROM Route route WHERE route.agency = :agency
    </query>
    <query name="tripsByRoute" read-only="true">
        FROM Trip trip WHERE trip.route = :route
    </query>
    <query name="stopTimesByTrip" read-only="true">
        SELECT st FROM StopTime st WHERE st.trip = :trip ORDER BY st.stopSequence
    </query>
    <query name="shapePointsForShapeId" read-only="true">
        FROM ShapePoint point WHERE point.id.shapeId = :shapeId
    </query>
</hibernate-mapping>
